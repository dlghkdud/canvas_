{% extends 'base.html' %}
{% block content %}
{% comment %} https://mjmjmj98.tistory.com/17 {% endcomment %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
<style>
    .img-wrapper {
        position: relative;
        width: 400px;
        height: 400px;
        border-radius: 5%;
        margin-top: 20px;
        margin-left: 20px;
    }
    .img-wrapper img {
        border-radius: 5%;
        position: absolute;
        top: 0;
        left: 0;
        transform: translate(50, 50);
        width: 100%;
        height: 100%;
        object-fit: cover;
        margin: auto;
    }
    .intro{
        position: relative;
        margin-top:-420px;
        margin-left: 450px;
        font-family: 'Indie Flower', cursive;
        color:white;
        -webkit-text-stroke: 1px black;
    }
    .subject{
        font-size: 97px;
    }
    .content{
        position: relative;
        margin-top: -20px;
        font-size: 40px;
        padding-right: 670px;
    }
    .sep{
        position: relative;
        margin-top: 16px;
        width: 98.5%;
    }
    .comment{
        width: 89.5%;
        height: 45px;
        border-radius: 15px;
        font-family: 'Indie Flower', cursive;
        font-size: 30px;
        color:white;
        -webkit-text-stroke: 1px black;
        padding-top: 5px;
        padding-left: 10px;
        margin-top: 10px;
        margin-left: 15px;
    }
    .comment_submit{
        position: relative;
        top: -17px;
        width: 145px;
        height: 53px;
        border: 1px solid black;
        background-color: #D8EAF6;
        border-radius: 15px;
        font-family: 'Indie Flower', cursive;
        font-size: 30px;
        color:white;
        -webkit-text-stroke: 1px black;
        margin-left: 5px;
        padding-top: 5px;
    }
    .comment_box{
        position: relative;
        margin-left: 15px;
        width: 98.5%;
        margin-bottom: 10px;
        font-family: 'Indie Flower', cursive;
        color:white;
        border-radius: 15px;
        -webkit-text-stroke: 1px black;
        border: 1px solid black;
        padding-left: 10px;
    }
    .comment_user{
        position: relative;
        font-size: 27px;
    }
    .comment_content{
        position: relative;
        font-size: 33px;
        margin-top: -15px;
    }
    .comment_date{
        position: relative;
        font-size: 25px;
        margin-top: -20px;
        padding-left: 86%;
    }
    .drawing_info{
        position:relative;
        text-align: right;
        font-size: 30px;
        margin-right: 200px;
        margin-top: 45px;
    }
</style>

<div>
    <div class="img-wrapper">
        <img src="../../media/{{ drawing.imgfile }}">
    </div>

    <div class='intro'>
        <div class='subject'>{{ drawing.subject }}</div>

        {% if request.user == drawing.author %}
            <a href="{% url 'palette:drawing_modify' drawing.id  %}" class="btn btn-sm btn-outline-secondary">수정</a>
        {% endif %}
        
        <div class='content'>
            {{ drawing.content }}
        </div>

        <div class='drawing_info'>
            <div class='drawing_user'>{{ drawing.author.username }}</div>
            <div class='drawing_date'>{{ drawing.create_date }}</div>
        </div>
    </div>
</div>

<hr class='sep'>



<form action = "{% url 'palette:comment_create' drawing.id %}" method="post">
{% csrf_token %}
<textarea name="content" id="content" rows="15" placeholder="Please enter a comment" class='comment'></textarea>
<input type="submit" value="comment" class='comment_submit'>
</form>

{% for comment in drawing.comment_set.all %}
    <div class='comment_box'>
        <div class='comment_user'>{{ comment.author.username }}</div>
        <div class='comment_content'>{{ comment.content }}</div>
        <div class='comment_date'>{{ comment.create_date }}</div>
    </div>
{% endfor %}

{% endblock %}